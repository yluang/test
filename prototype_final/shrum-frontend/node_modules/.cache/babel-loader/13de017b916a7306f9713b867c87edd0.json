{"ast":null,"code":"import ProjectService from \"../../services/ProjectService\";\n/**\n * Redux Action: Create new project\n * @param {object} project : Packed project data, containing at least the project name\n * @returns project action result\n */\n\nexport function createProject(projectData) {\n  function onSuccess(project) {\n    return {\n      type: \"CREATEPROJECT_SUCCESS\",\n      project: project\n    };\n  }\n\n  function onFailure(error) {\n    console.log(\"Create new project failure\", error);\n  }\n\n  return async dispatch => {\n    try {\n      // Create project on backend and fetch its full structure\n      // this includes the server-generated project ID\n      let project = await ProjectService.createProject(projectData); // Dispatch state change in redux\n\n      dispatch(onSuccess(project));\n    } catch (e) {\n      // Do not change state when a failure occured\n      onFailure(e);\n    }\n  };\n}\nexport function getProject(projectSpecifier) {\n  function onSuccess(project) {\n    return {\n      type: \"GETPROJECT_SUCCESS\",\n      project: project\n    };\n  } // when the backend call failed\n\n\n  function onFailure(error) {\n    console.log(\"Error: failed to retrieve project data from server\");\n  }\n\n  return async dispatch => {\n    try {\n      console.log(\"Fetching projects from backend...\"); // Fetch project from backend\n\n      let project = await ProjectService.getProject(projectSpecifier); // call onSuccess in context of redux\n\n      dispatch(onSuccess(project));\n    } catch (e) {\n      onFailure(e);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/huangyongli/workspace/Shrum_new/prototype/shrum/src/redux/actions/projectActions.js"],"names":["ProjectService","createProject","projectData","onSuccess","project","type","onFailure","error","console","log","dispatch","e","getProject","projectSpecifier"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,+BAA3B;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,WAAvB,EAAoC;AACvC,WAASC,SAAT,CAAmBC,OAAnB,EAA4B;AACxB,WAAO;AAAEC,MAAAA,IAAI,EAAE,uBAAR;AAAiCD,MAAAA,OAAO,EAAEA;AAA1C,KAAP;AACH;;AACD,WAASE,SAAT,CAAmBC,KAAnB,EAA0B;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,KAA1C;AACH;;AAED,SAAO,MAAOG,QAAP,IAAoB;AACvB,QAAI;AACA;AACA;AACA,UAAIN,OAAO,GAAG,MAAMJ,cAAc,CAACC,aAAf,CAA6BC,WAA7B,CAApB,CAHA,CAKA;;AACAQ,MAAAA,QAAQ,CAACP,SAAS,CAACC,OAAD,CAAV,CAAR;AACH,KAPD,CAOE,OAAOO,CAAP,EAAU;AAER;AACAL,MAAAA,SAAS,CAACK,CAAD,CAAT;AACH;AACJ,GAbD;AAcH;AAED,OAAO,SAASC,UAAT,CAAoBC,gBAApB,EAAsC;AAEzC,WAASV,SAAT,CAAmBC,OAAnB,EAA4B;AACxB,WAAO;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BD,MAAAA,OAAO,EAAEA;AAAvC,KAAP;AACH,GAJwC,CAKzC;;;AACA,WAASE,SAAT,CAAmBC,KAAnB,EAA0B;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,oDAAZ;AACH;;AAED,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAI;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EADA,CAGA;;AACA,UAAIL,OAAO,GAAG,MAAMJ,cAAc,CAACY,UAAf,CAA0BC,gBAA1B,CAApB,CAJA,CAMA;;AACAH,MAAAA,QAAQ,CAACP,SAAS,CAACC,OAAD,CAAV,CAAR;AAEH,KATD,CASE,OAAOO,CAAP,EAAU;AACRL,MAAAA,SAAS,CAACK,CAAD,CAAT;AACH;AACJ,GAbD;AAcH","sourcesContent":["import ProjectService from \"../../services/ProjectService\";\n\n/**\n * Redux Action: Create new project\n * @param {object} project : Packed project data, containing at least the project name\n * @returns project action result\n */\nexport function createProject(projectData) {\n    function onSuccess(project) {\n        return { type: \"CREATEPROJECT_SUCCESS\", project: project };\n    }\n    function onFailure(error) {\n        console.log(\"Create new project failure\", error);\n    }\n\n    return async (dispatch) => {\n        try {\n            // Create project on backend and fetch its full structure\n            // this includes the server-generated project ID\n            let project = await ProjectService.createProject(projectData);\n\n            // Dispatch state change in redux\n            dispatch(onSuccess(project));\n        } catch (e) {\n\n            // Do not change state when a failure occured\n            onFailure(e);\n        }\n    };\n}\n\nexport function getProject(projectSpecifier) {\n\n    function onSuccess(project) {\n        return { type: \"GETPROJECT_SUCCESS\", project: project };\n    }\n    // when the backend call failed\n    function onFailure(error) {\n        console.log(\"Error: failed to retrieve project data from server\");\n    }\n\n    return async (dispatch) => {\n        try {\n            console.log(\"Fetching projects from backend...\");\n\n            // Fetch project from backend\n            let project = await ProjectService.getProject(projectSpecifier);\n\n            // call onSuccess in context of redux\n            dispatch(onSuccess(project));\n\n        } catch (e) {\n            onFailure(e);\n        }\n    };\n}\n\n"]},"metadata":{},"sourceType":"module"}